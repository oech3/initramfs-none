# initramfs-none
Minimal initramfs to mount `/` with `noatime` WITHOUT kmod support.
This is one of a workaround for https://bugzilla.kernel.org/show_bug.cgi?id=61601 .

# Motivation
We can boot Linux without initramfs if modules for strage device and filesystem of `/` are built-in.
For example, AHCI and Btrfs modules are built-in at Arch Linux (see https://wiki.archlinux.org/title/Arch_boot_process#Running_without_initramfs).

However, booting with `rootflags=noatime` without initramfs is impossible (see https://bugzilla.kernel.org/show_bug.cgi?id=61601).
Surprisingly, moduleless initramfs generated by https://github.com/anatol/booster is faster than no initramfs+remounting `/` with `noatime`.
Then I made `init` binary for initramfs to mount `/` with `noatime` flag.
One of another workaround is remount `/` with `noatime` after graphical session (`noatime.service`) to hide penalty for boot time.


# Usage
See `build` function of `PKGBUILD` to build initramfs. Device file, mount flags and fstype for `/` are hardcoted in init.c .
Size of initramfs may < 15 kB.

# (Few) Advantage
Result of `systemd-analyze` seems unstable.
This is 0.2~0.3 s faster than moduleless booster???. This sometimes lose.
